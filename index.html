<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PAV+ 3.6</title>

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b0b0d">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="PAV+">
<link rel="apple-touch-icon" href="icon-192.png">

<style>
:root{
--gold:#d4af37;
--bg:#0b0b0d;
--card:rgba(255,255,255,0.05);
--border:rgba(212,175,55,0.3);
--red:#ff3b3b;
--green:#29ff8a;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,sans-serif;}
body{background:var(--bg);color:white;overflow:hidden;}

/* SPLASH */
#splash{
position:fixed;inset:0;background:black;
display:flex;align-items:center;justify-content:center;
z-index:3000;transition:opacity 1s;
}
#splash.fade{opacity:0;pointer-events:none;}
.paw{font-size:40px;color:var(--gold);animation:glow 2s infinite;}
@keyframes glow{
0%{text-shadow:0 0 5px var(--gold);}
50%{text-shadow:0 0 25px var(--gold);}
100%{text-shadow:0 0 5px var(--gold);}
}

/* LOCK */
#lock{
position:fixed;inset:0;background:black;
display:flex;flex-direction:column;
align-items:center;justify-content:center;
z-index:2000;transition:.4s;
}
#lock.hide{opacity:0;pointer-events:none;}
.display{font-size:32px;letter-spacing:15px;margin-bottom:20px;color:var(--gold);}
.keypad{display:grid;grid-template-columns:repeat(3,80px);gap:15px;}
.key{
height:80px;width:80px;border-radius:50%;
background:#111;border:1px solid var(--gold);
display:flex;align-items:center;justify-content:center;
font-size:24px;cursor:pointer;
}
.key:active{background:var(--gold);color:black;}

#app{display:none;height:100vh;overflow:hidden;}

.section{
position:absolute;top:0;left:0;right:0;bottom:70px;
display:flex;justify-content:center;
padding:20px;overflow:auto;
opacity:0;transform:translateX(20px);
transition:.35s ease;
pointer-events:none;
}
.section.active{
opacity:1;transform:translateX(0);
pointer-events:auto;
}

.container{width:100%;max-width:500px;}

.card{
background:var(--card);
backdrop-filter:blur(12px);
padding:20px;border-radius:15px;
border:1px solid var(--border);
margin-bottom:20px;
text-align:center;
}

h3{margin-bottom:15px;color:var(--gold);}
input{
width:100%;padding:10px;margin-top:10px;
border-radius:8px;border:none;background:#111;
color:white;text-align:center;
}
button{
margin-top:10px;padding:8px 14px;
border:none;border-radius:8px;
background:var(--gold);color:black;
font-weight:bold;cursor:pointer;
}

.tabbar{
position:fixed;bottom:0;left:0;right:0;
height:70px;background:#111;
display:flex;justify-content:space-around;
align-items:center;border-top:1px solid rgba(255,255,255,.1);
}
.tab{
flex:1;text-align:center;color:#888;
font-size:12px;cursor:pointer;transition:.3s;
}
.tab.active{color:var(--gold);transform:translateY(-5px);}
.tab span{display:block;font-size:20px;}
.tab.active span{text-shadow:0 0 10px var(--gold);}

.alarm.armed{
animation:redPulse 1.5s infinite;
border-color:var(--red);
}
@keyframes redPulse{
0%{box-shadow:0 0 5px var(--red);}
50%{box-shadow:0 0 25px var(--red);}
100%{box-shadow:0 0 5px var(--red);}
}

.grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:10px;
}
.camera{
background:black;border-radius:10px;
overflow:hidden;position:relative;
}
.camera iframe{width:100%;height:150px;border:none;}
.remove{
position:absolute;top:6px;right:6px;
background:rgba(0,0,0,.7);
border:none;color:white;border-radius:50%;
width:22px;height:22px;cursor:pointer;
}
.camera.fullscreen{
position:fixed;inset:0;
z-index:4000;background:black;
display:flex;align-items:center;justify-content:center;
}
.camera.fullscreen iframe{
height:90%;width:90%;
border-radius:12px;
}

.statusDot{
position:absolute;top:8px;left:8px;
width:12px;height:12px;border-radius:50%;
background:gray;
}
.statusDot.online{background:var(--green);}
.statusDot.offline{background:var(--red);}

.log{
font-size:12px;
max-height:200px;
overflow:auto;
background:#111;
padding:10px;border-radius:8px;
text-align:left;
}
</style>
</head>
<body>

<!-- SPLASH -->
<div id="splash"><div class="paw">ðŸ¦š PAV+</div></div>

<!-- LOCK -->
<div id="lock">
<div class="display" id="display">----</div>
<div class="keypad" id="keys"></div>
</div>

<div id="app">

<!-- (CAÅA RESZTA TWOJEGO KODU JEST TAKA SAMA JAK WYSÅAÅEÅš) -->

</div>

<script>

/* SPLASH */
setTimeout(()=>splash.classList.add("fade"),1500);

/* PIN */
const PIN="1111";
let input="", attempts=0, lockUntil=0;
function update(){display.innerText=input.padEnd(4,"-");}
function press(v){
if(Date.now()<lockUntil)return;
if(v==="C"){input="";}
else if(v==="OK"){
if(input===PIN){unlock();}
else{
attempts++;
if(attempts>=3){
lockUntil=Date.now()+60000;
alert("Blokada 60 sekund");
}
}
input="";
}else if(input.length<4){input+=v;}
update();
}
function unlock(){
lock.classList.add("hide");
app.style.display="block";
}
for(let i=1;i<=9;i++)create(i);
create("C");create(0);create("OK");
function create(v){
let d=document.createElement("div");
d.className="key";
d.innerText=v;
d.onclick=()=>press(v);
keys.appendChild(d);
}
update();

/* PWA */
if ("serviceWorker" in navigator) {
window.addEventListener("load", function() {
navigator.serviceWorker.register("sw.js");
});
}

</script>
</body>
</html>
